(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-947ece4e"],{"008e":function(t,e,a){"use strict";var n=a("3787"),s=a.n(n);s.a},3787:function(t,e,a){},"918f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"list-page"},[a("div",{staticClass:"container"},[a("div",{staticClass:"list-title"},[a("div",{staticClass:"left"},[a("div",{staticClass:"title"},[t._v("交易")]),a("div",{staticClass:"total"},[t._v(" 总共 "),a("span",[t._v(t._s(t.allpage))]),t._v("条交易 ")])])]),a("div",{staticClass:"tableWrapper"},[a("div",{staticClass:"tableminwrapper"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:"ID",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(a){return t.todetails(e.row)}}},[t._v(" "+t._s(e.row.id.substring(0,6)+"..."+e.row.id.substring(e.row.id.length-6))+" ")])]}}])}),a("el-table-column",{attrs:{prop:"timestamp.human",label:"时间",width:"200"}}),a("el-table-column",{attrs:{label:"付款地址"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(a){return t.towalletdetails(e.row.sender)}}},[t._v(" "+t._s(e.row.sender.substring(0,6)+"..."+e.row.sender.substring(e.row.sender.length-6))+" ")])]}}])}),a("el-table-column",{attrs:{label:"收款地址"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:6!==e.row.type,expression:"scoped.row.type!==6"}],staticStyle:{cursor:"pointer"},on:{click:function(a){return t.towalletdetails(e.row.recipient)}}},[t._v(" "+t._s(e.row.recipient.substring(0,6)+"..."+e.row.recipient.substring(e.row.recipient.length-6))+" ")]),a("span",{directives:[{name:"show",rawName:"v-show",value:6==e.row.type,expression:"scoped.row.type==6"}],staticStyle:{cursor:"pointer"},on:{click:function(a){return t.openmintable(e.row)}}},[t._v("Multipayment")])]}}])}),a("el-table-column",{attrs:{label:"交易额"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s((e.row.amount/1e8).toFixed(2))+t._s(t.unit))]}}])}),a("el-table-column",{attrs:{label:"手续费"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s((e.row.fee/1e8).toFixed(2))+t._s(t.unit))]}}])})],1)],1)]),a("div",{staticClass:"changepage-wrapper"},[a("el-pagination",{attrs:{"pager-count":5,total:t.allpage,"page-size":25,layout:"prev, pager, next"},on:{"current-change":t.pagechange}})],1)])]),a("el-dialog",{attrs:{width:"80%",title:"Multipayment",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("el-table",{attrs:{data:t.gridData}},[a("el-table-column",{attrs:{property:"recipientId",label:"接收地址",width:"350"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(a){return t.towalletdetails(e.row.recipientId)}}},[t._v(t._s(e.row.recipientId))])]}}])}),a("el-table-column",{attrs:{label:"交易额",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s((e.row.amount/1e8).toFixed(2))+t._s(t.unit))]}}])})],1)],1)],1)},s=[],i=a("b85c"),o=a("c1df"),l=a.n(o),r=a("a8f8"),c={mounted:function(){var t=this;this.unit=sessionStorage.getItem("unit")?sessionStorage.getItem("unit"):"MCN",Object(r["f"])({orderBy:"timestamp:desc",page:1,limit:25}).then((function(e){console.log(e),t.allpage=e.data.meta.totalCount;var a,n=Object(i["a"])(e.data.data);try{for(n.s();!(a=n.n()).done;){var s=a.value;if(s.timestamp.human=l()(s.timestamp.human).format("YYYY-MM-DD HH:mm:ss"),6==s.type){var o,r=Object(i["a"])(s.asset.payments);try{for(r.s();!(o=r.n()).done;){var c=o.value;s.amount=1*s.amount+1*c.amount}}catch(u){r.e(u)}finally{r.f()}}}}catch(u){n.e(u)}finally{n.f()}t.tableData=e.data.data})).catch((function(t){window.console.log(t)}))},data:function(){return{tableData:[],allpage:0,unit:"",dialogTableVisible:!1,gridData:[]}},methods:{todetails:function(t){this.$router.push({path:"/tradedetails",query:{id:t.id}}),window.scrollTo({top:0,behavior:"smooth"})},towalletdetails:function(t){this.$router.push({path:"/walletdetails",query:{id:t}}),window.scrollTo({top:0,behavior:"smooth"})},pagechange:function(t){var e=this;Object(r["f"])({orderBy:"timestamp:desc",page:t,limit:25}).then((function(t){e.allpage=t.data.meta.totalCount;var a,n=Object(i["a"])(t.data.data);try{for(n.s();!(a=n.n()).done;){var s=a.value;if(s.timestamp.human=l()(s.timestamp.human).format("YYYY-MM-DD HH:mm:ss"),6==s.type){var o,r=Object(i["a"])(s.asset.payments);try{for(r.s();!(o=r.n()).done;){var c=o.value;s.amount=1*s.amount+1*c.amount}}catch(u){r.e(u)}finally{r.f()}}}}catch(u){n.e(u)}finally{n.f()}e.tableData=t.data.data})).catch((function(t){window.console.log(t)}))},openmintable:function(t){this.dialogTableVisible=!0,console.log(t.asset.payments),this.gridData=t.asset.payments}}},u=c,d=(a("008e"),a("2877")),p=Object(d["a"])(u,n,s,!1,null,"5d49b67a",null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-947ece4e.d9d50e59.js.map